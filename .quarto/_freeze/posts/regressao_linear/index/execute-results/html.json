{
  "hash": "10b520b529e8da7f61f7f98b9203c1b7",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: \"Regressão linear\"\nauthor: \"Samuel Silva\"\ndate: \"2025-11-23\"\ncategories: [code, regressão linear, gráfico]\nimage: \"regressao.png\"\njupyter: python3\n---\n\nEste código realiza uma regressão linear simples usando dados armazenados em arquivos externos. Primeiro, ele carrega dois vetores numéricos, X e y, que representam o conjunto de entradas e saídas do modelo. Em seguida, constrói manualmente a matriz da regressão adicionando uma coluna de 1 para o termo constante e aplica a fórmula da solução analítica (método dos mínimos quadrados) para calcular os coeficientes da reta, resultando no intercepto a e na inclinação b. Depois transforma os dados em um DataFrame do pandas para facilitar a visualização e cria um gráfico com o plotnine, exibindo tanto os pontos originais quanto a linha de regressão calculada. O gráfico é então salvo como imagem e posteriormente carregado para ser exibido dentro do post do Quarto, permitindo visualizar o resultado da regressão diretamente dentro do blog.\n\n::: {#44411faf .cell execution_count=1}\n``` {.python .cell-code}\nimport numpy as np\nimport pandas as pd\nfrom plotnine import (\n    ggplot, aes, geom_point, geom_abline, theme, element_text\n)\nfrom IPython.display import Image\n\n# 1. Ler os dados X e y\nX = np.loadtxt(\"X.txt\")\ny = np.loadtxt(\"y.txt\")\n\n# 2. Construir matriz para regressão\nX_matrix = np.column_stack((np.ones(len(X)), X))\nbeta = np.linalg.inv(X_matrix.T @ X_matrix) @ (X_matrix.T @ y)\n\na = beta[0]\nb = beta[1]\n\nprint(\"Coeficientes:\")\nprint(\"a (intercepto):\", a)\nprint(\"b (inclinação):\", b)\n\n# 3. DataFrame\ndf = pd.DataFrame({\"x\": X, \"y\": y})\n\n# 4. Gráfico\nplot = (\n    ggplot(df, aes(\"x\", \"y\"))\n    + geom_point()\n    + geom_abline(intercept=a, slope=b)\n    + theme(axis_title=element_text(size=12))\n)\n\n# 5. Salvar corretamente (plotnine)\nplot.save(\"grafico.png\")\n\n# 6. Exibir dentro do post do Quarto\nImage(\"grafico.png\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nCoeficientes:\na (intercepto): 373.93446839132355\nb (inclinação): 991.6278332981952\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n/home/codespace/.python/current/lib/python3.12/site-packages/plotnine/ggplot.py:623: PlotnineWarning: Saving 7.0 x 5.0 in image.\n/home/codespace/.python/current/lib/python3.12/site-packages/plotnine/ggplot.py:624: PlotnineWarning: Filename: grafico.png\n```\n:::\n\n::: {.cell-output .cell-output-display execution_count=1}\n![](index_files/figure-html/cell-2-output-3.png){}\n:::\n:::\n\n\n",
    "supporting": [
      "index_files"
    ],
    "filters": [],
    "includes": {}
  }
}